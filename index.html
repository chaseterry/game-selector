<!doctype html>
<html>
<!-- comment-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="author" content="co-authored by Brandon Post, Chase Terry">
    <title>Game Selector</title>
    
    <!-- JQuery Mobile Setup -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" />
    <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>
    <!-- End JQuery Mobile Setup -->

    <script>
        var counter = 0;
      //javascript
      function rolldie(num){
        var roll = random(1, num);
        var display = document.getElementById("number-spot");
        var i = 0;
        for(i = 0; i < 20; i++){
          display.innerHTML = random(1, num);
          //sleep functions are really annoying in javascript
        }
        display.innerHTML = roll;
      }
      function changeScore(num){
        var display = document.getElementById("point-spot");
        counter = counter + num;
        display.innerHTML = counter;
      }
      function suggestion(){
        var display = document.getElementById("suggestion-spot");
        display.innerHTML = "NOSE GOES!! Touch a random person's nose, whoever's nose get's touched last goes first"
      }
      //javascript
      //var gug;
      //gug = 5;
      //var LoopyDoopy = {death:"Help me, i'm dead", life:"but I am fine"};
      //var nameArray = [];
      
      //alert(LoopyDoopy.death);
      //  function fun(variable){
      //  return 3;
      // }
      function clickCounter(){
        alert("Still broken");
        if(hasLocalStorage()){
          if(localStorage.clickcount){
            alert("next");
            localStorage.clickcount = Number(localStorage.clickcount)+1;
          } 
          else{
            alert("first");
            localStorage.clickcount = 1;
          }
          document.getElementById("clickcount-index").innerHTML = "You have clicked the button " + localStorage.clickcount + " time(s).";
        }
        else{
          alert("No HTML5 Local Storage");
        }
        alert("pass through");
      }
      
      function hasLocalStorage(){
        if(typeof(Storage) !== "undefined"){
          //has local storage
          return true;
        }
        else{
          //does not have local storage
          return false;
        }
      }
      /*
      $(document).on("pageshow","#index",function(){
        if(hasLocalStorage()){
          if(localStorage.clickcount){
          } 
          else{
            localStorage.clickcount = 0;
          }
          document.getElementById("clickcount-index").innerHTML = "You have clicked the button " + localStorage.clickcount + " time(s).";
          alert("show");
        }
        else{
          alert("No HTML5 Local Storage");
        }
        });
        */
        function random(min,max){
          return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        function getGameList(){
          return JSON.parse(localStorage.gameDatabase);
        }
        function randomGame(){
          var games = getGameList();
          var text = "Game: ";
          var playerInfo = "Players: ";
          var duration = "Duration: ";
          x = random(0,games.length - 1);
          var displayTitle = document.getElementById("game-spot");
          var displayDuration = document.getElementById("pladur-spot");
          duration = duration + games[x].duration;
          playerInfo = playerInfo + games[x].minPlayers + "-" + games[x].maxPlayers;
          text = text + games[x].name;
          displayTitle.innerHTML = text;
          displayDuration.innerHTML = duration + " minutes, " + playerInfo;
        }
        function selectGame(){
          var title = document.getElementById("game-spot").innerHTML;
          document.getElementById("title-spot").innerHTML = title;
        }
    </script>
  </head>
  <body>
    <!-- main html -->
    <div data-role="page" id="#index" align="center">
      <div data-role="header">
        <h1>Game Selector</h1>
      </div><!-- /header -->
      <div data-role="navbar" class="header">
        <ul>
          <li><a href="data.html" data-transition="slide" data-direction="reverse" rel="external">Data</a></li>
          <li><a href="index.html" data-transition="fade" class="ui-btn-active ui-state-persist">Home</a></li>
          <li><a href="extras.html" data-transition="slide" rel="external">Extras</a></li>
        </ul>
      </div>
      
      
      
      <div data-role="content">
        <!--
        <h3>Local Storage testing</h3>
        <p id="clickcount-index">Hello</p>
        <p><a data-role="button" data-inline="true" onclick="clickCounter();">Increase Counter!</a></p> 
        -->
        <p>Hello! Edit your list of games in the "Data" tab, and come back here to randomize!</p>
        <a onclick="randomGame();" data-role="button" data-inline="true" data-transition="fade">Random Game!</a>
        <p id="game-spot"> </p>
        <p id="pladur-spot"> </p>
        <p id="type-spot"> </p>
        <a href="#gameselected" onclick="selectGame();" data-role="button" data-inline="true" data-transition="fade">Select this Game!</a>
      </div><!-- /content -->
    </div><!-- /page -->
    
    
        <div data-role="page" id="gameselected" align="center">
      <div data-role="header">
        <h1>Game Selector</h1>
      </div><!-- /header -->
      <div data-role="navbar" class="header">
        <ul>
          <li><a href="data.html" data-transition="slide" data-direction="reverse" rel="external">Data</a></li>
          <li><a href="index.html" data-transition="fade" class="ui-btn-active ui-state-persist">Home</a></li>
          <li><a href="extras.html" data-transition="slide" rel="external">Extras</a></li>
        </ul>
      </div>
      
      <div data-role="content">
        <!--
        <h3>Local Storage testing</h3>
        <p id="clickcount-index">Hello</p>
        <p><a data-role="button" data-inline="true" onclick="clickCounter();">Increase Counter!</a></p> 
        -->
        <p id="title-spot"> </p>
          <a href="#popPoints" data-role="button" data-inline="true">Points</a>
          <a href="#popDice" data-role="button" data-inline="true">Dice</a>
      </div><!-- /content -->
    </div><!-- /page -->
    <div data-role="page" id="popPerson" align="center">
      <div data-role="header">
        <h1>Game Selector</h1>
      </div><!-- /header -->
      <div data-role="navbar" class="header">
        <ul>
          <li><a href="data.html" data-transition="slide" data-direction="reverse" rel="external">Data</a></li>
          <li><a href="index.html" data-transition="fade" class="ui-btn-active ui-state-persist">Home</a></li>
          <li><a href="extras.html" data-transition="slide" rel="external">Extras</a></li>
        </ul>
      </div>
      <div data-role="content" align="center">
        <a href="#randchoice" data-role="button" data-inline="true" data-transition="none">Random Choice</a>
        <a onclick="suggestion();" data-role="button" data-inline="true" data-transition="none">Fun Method!(3+)</a>
        <p id="suggestion-spot"> </p>
        <a href="#gameselected" data-role="button" data-inline="true" data-transition="none">Go Back</a>
        </div>
    </div>
    <div data-role="page" id="popPoints" align="center">
      <div data-role="header">
        <h1>Game Selector</h1>
      </div><!-- /header -->
      <div data-role="navbar" class="header">
        <ul>
          <li><a href="data.html" data-transition="slide" data-direction="reverse" rel="external">Data</a></li>
          <li><a href="index.html" data-transition="fade" class="ui-btn-active ui-state-persist">Home</a></li>
          <li><a href="extras.html" data-transition="slide" rel="external">Extras</a></li>
        </ul>
      </div>
        <div data-role="controlgroup" data-type="horizontal" align="center">
        <a onclick="changeScore(1);" data-role="button" data-inline="true" data-transition="none">+1</a>
        <a onclick="changeScore(-1);" data-role="button" data-inline="true" data-transition="none">-1</a>
        <a onclick="changeScore(5);" data-role="button" data-inline="true" data-transition="none">+5</a>
        <a onclick="changeScore(-5);" data-role="button" data-inline="true" data-transition="none">-5</a>
        </div>
        <p id="point-spot" size="24">0</p>
        <a href="#gameselected" data-role="button" data-inline="true" data-transition="none">Go Back</a>
    </div>
    <div data-role="page" id="popDice" align="center">
      <div data-role="header">
        <h1>Game Selector</h1>
      </div><!-- /header -->
      <div data-role="navbar" class="header">
        <ul>
          <li><a href="data.html" data-transition="slide" data-direction="reverse" rel="external">Data</a></li>
          <li><a href="index.html" data-transition="fade" class="ui-btn-active ui-state-persist">Home</a></li>
          <li><a href="extras.html" data-transition="slide" rel="external">Extras</a></li>
        </ul>
      </div>
           <div data-role="controlgroup" data-type="horizontal" align="center">
            <a onclick="rolldie(6);" data-role="button" data-inline="true" data-transition="none">Roll D6</a>
            <a onclick="rolldie(20);" data-role="button" data-inline="true" data-transition="none">Roll D20</a>
            <a onclick="rolldie(4);" data-role="button" data-inline="true" data-transition="none">Roll D4</a>
            <p id="number-spot" size="24">0</p>
            <a href="#gameselected" data-role="button" data-inline="true" data-transition="none">Go Back</a>
           </div>
    </div>
  </body>
</html>
